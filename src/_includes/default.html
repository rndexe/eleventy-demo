<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>
			{{title}}
		</title>
		{% if description %}
		<meta name="description" content="{{description}}"/>
		{% endif %}
		{% block head %}{% endblock %}
		<link rel="stylesheet" type="text/css" href="/static/css/style.css"/>
		{% if prism == true %}
		<link rel="stylesheet" type="text/css" href="/static/css/prism-tomorrow.css">
		{% endif %}
		<style>
			@media (max-height: 768px){
				#title{
					margin-top:120px;
				}
				#subtitle{
					margin-top:10px;
				}
				#medium{
					margin-top:10px;	
				}
				#year{
					margin-top:10px;
				}
				#scrollordrag{
					margin-top:120px;
				}
				#authorbio{
					font-size:20px;
					width:90%;
				}
				#description{
					font-size:20px;
					width:90%;
				}
				.processimg{
					width: 500px;
				}
			
			}
			@media (max-width: 768px){
				#scrollordrag{
					margin-top:60px;
				}
				
			}
			@media (min-width: 768px) { 
				.main-stuff{
					width: 100%;
					height: auto;
				}
				#process{
					margin-right:60px;
				}
				
			}
			@media (min-width: 1024px) { 
				.iframes{
					width:640px;
					height:320px;
					margin-top:20%;
				}
			}
			@media (min-width: 1280px) { 
				.iframes{
					width:1000px;
					height:500px;
					margin-top: 10%;
				}
			}
		</style>
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Literata&display=swap" rel="stylesheet">
		<link href="https://fonts.cdnfonts.com/css/trade-gothic-lt-std" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
	</head>
	<body>
		<main class="main-stuff block lg:flex lg:flex-col overflow-hidden">
			<div id="mobile-menu" class="invisible absolute top-0 left-0 w-screen h-screen " style="z-index:1000; background-color:rgb(248, 210, 216);">
				<div class="w-full h-20 flex flex-row" style="border: 2px solid #333;">
					<div class="h-auto w-20 md:bottom-0 md:fixed">
						<a href="/" >
						<img class="w-20" src="/static/img/SGLogo_Black_Transparent.png"></img>
						</a>
					</div>
					<p class="flex-grow text-center leading-20" style="font-family: 'Literata';">Menu</p>
					<button id='menu-close-button' class="w-10 text-2xl">X</button>
				</div>
				
				<ul>
					<li>About</li>
					<li>Scholar</li>
					<li>Process</li>
					<li>Take it further</li>
				</ul>
			</div>

			<div class="w-screen fixed overflow-hidden">
				<div >
					{% include "./partials/navbar.html" %}

					{{ content | safe }}
				</div>
			</div>
		</main>
		<script src="/static/js/alpine.js"></script>
		<script src="/static/js/scroll.js"></script>

		{% if path == "home" %}
		<!-- Netlify Identity Widget -->
		<!-- Needed only if you are using Netlify Identity feature -->
		<script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
		{% endif %}

		<script>

			var processElements = document.getElementById("process")
			var main = document.getElementById('main')
			var exhibit = document.getElementById('exhibit-content')
			var backbutton = document.getElementById("backbutton")
			var navitems = document.getElementById("nav-items-container")
			backbutton.addEventListener("click",function() {
				window.location = "#home";
				backbutton.style.visibility = 'hidden'
				
			})
			//For converting mousewheel scroll into horizontal scroll
			main.addEventListener('wheel', (e) => {
				main.scrollLeft += e.deltaY;

				if (main.scrollLeft >= window.innerWidth-30) { // Just an example
					console.log("Hello")
					navitems.style.visibility = 'visible';
				} else {
					navitems.style.visibility = 'hidden';
				}
			});

			var about = document.querySelector('#about');
			var process = document.querySelector('#process');
			var scholar = document.querySelector('#scholar');
			var further = document.querySelector('#further')
			var aboutnav = document.querySelector('#nav-item-about');
			var processnav = document.querySelector('#nav-item-process');
			var scholarnav = document.querySelector('#nav-item-scholar');
			var furthernav = document.querySelector('#nav-item-further')
			//function resetNavbar(){
			//	aboutnav.style.color = "#a3a3a3";
			//	aboutnav.style.textDecoration = "none";
			//	processnav.style.color = "#a3a3a3";
			//	processnav.style.textDecoration = "none";
			//	scholarnav.style.color = "#a3a3a3";
			//	scholarnav.style.textDecoration = "none";
			//	furthernav.style.color = "#a3a3a3";
			//	furthernav.style.textDecoration = "none";
			//}

			//document.addEventListener('wheel', () => {
			//	if ((window.scrollX >= about.getBoundingClientRect().left)) {
			//		resetNavbar()
			//		aboutnav.style.color = 'black'
			//		aboutnav.style.textDecoration = 'underline'
			//	}else if ((window.scrollX >= process.getBoundingClientRect().left)) {
			//		resetNavbar()
			//		processnav.style.color = 'red'
			//		processnav.style.textDecoration = 'underline'
			//	}else if ((window.scrollX >= scholar.getBoundingClientRect().left) ) {
			//		resetNavbar()
			//		scholarnav.style.color = 'white'
			//		scholarnav.style.textDecoration = 'underline'
			//	}else if ((window.scrollX >= further.getBoundingClientRect().left) ) {
			//		resetNavbar()
			//		furthernav.style.color = 'black'
			//		furthernav.style.textDecoration = 'underline'
			//	}
			//	
			//})

			
			//For navigation by clicking and dragging
			

			var mobilemenu = document.getElementById("mobile-menu");
			var menubutton = document.getElementById("menu-button");
			var menuclosebutton = document.getElementById("menu-close-button");

			menubutton.addEventListener('click',function(){
				mobilemenu.style.visibility = 'visible'
			});

			menuclosebutton.addEventListener('click',function(){
				mobilemenu.style.visibility = 'hidden'
			});



			
		</script>
	</body>
</html>
